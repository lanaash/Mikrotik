DHCP server for remote relay e.g. layer 3 switch aggregating VLANs/IPs

!
! Remote Cisco BOOTP relay
!
!
interface gigabitEthernet0/0
 description *** Link to Mikrotik ***
 ip address 192.168.50.2 255.255.255.252
 no shut
!
interface gigabitEthernet0/1
 description *** DHCP clients ***
 ip address 192.168.100.254 255.255.255.0
 ip helper-address 192.168.50.1
 no shut
!

#
# Mikrotik DHCP server
#
/ip/address add address=192.168.50.1/30 interface=ether1 network=192.168.50.0

/ip/pool
add name=pool1 ranges=192.168.100.1-192.168.100.2
add name=pool2 ranges=192.168.200.1-192.168.200.2

/ip/dhcp-server/network
add address=192.168.100.0/24 gateway=192.168.100.254
add address=192.168.200.0/24 gateway=192.168.200.254

/ip/dhcp-server
add address-pool=pool1 authoritative=yes bootp-support=dynamic disabled=no interface=ether1 lease-time=1w name=server1 relay=192.168.100.254
add address-pool=pool2 authoritative=yes bootp-support=dynamic disabled=no interface=ether1 lease-time=1w name=server2 relay=192.168.200.254

/ip/route add dst-address=192.168.100.0/24 gateway=192.168.50.2
/ip/route add dst-address=192.168.200.0/24 gateway=192.168.50.2
